# FacePay Production Environment Configuration
# ============================================================================
# CRITICAL: These are production templates. Replace ALL values before deployment!
# ============================================================================

# ============================================================================
# ENVIRONMENT SETTINGS
# ============================================================================
NODE_ENV=production
DEBUG=false
LOG_LEVEL=error
NEXT_TELEMETRY_DISABLED=1

# ============================================================================
# APPLICATION URLs (UPDATE THESE!)
# ============================================================================
# Replace with your actual domain
NEXT_PUBLIC_BASE_URL=https://facepay.app
NEXT_PUBLIC_APP_URL=https://facepay.app
NEXTAUTH_URL=https://facepay.app

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Production PostgreSQL connection - REPLACE WITH YOUR DATABASE
DATABASE_URL=postgresql://postgres:CHANGE_THIS_PASSWORD@db.your-project.supabase.co:5432/postgres
DIRECT_URL=postgresql://postgres:CHANGE_THIS_PASSWORD@db.your-project.supabase.co:5432/postgres

# For connection pooling in production
DATABASE_POOL_SIZE=20
DATABASE_TIMEOUT=30000

# ============================================================================
# AUTHENTICATION & SECURITY - GENERATE NEW SECRETS!
# ============================================================================
# Generate with: openssl rand -base64 64
JWT_SECRET=REPLACE_WITH_64_CHARACTER_SECURE_JWT_SECRET_GENERATED_WITH_OPENSSL
JWT_REFRESH_SECRET=REPLACE_WITH_64_CHARACTER_SECURE_REFRESH_SECRET_GENERATED_WITH_OPENSSL

# Generate with: openssl rand -base64 32  
NEXTAUTH_SECRET=REPLACE_WITH_32_CHARACTER_NEXTAUTH_SECRET_GENERATED_WITH_OPENSSL

# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=REPLACE_WITH_32_CHARACTER_ENCRYPTION_KEY_GENERATED_WITH_OPENSSL

# ============================================================================
# WEBAUTHN CONFIGURATION - UPDATE DOMAIN!
# ============================================================================
WEBAUTHN_RP_NAME=FacePay
WEBAUTHN_RP_ID=facepay.app
WEBAUTHN_ORIGIN=https://facepay.app

# ============================================================================
# PAYMENT PROVIDERS
# ============================================================================
# Stripe Production Keys (create account at stripe.com)
STRIPE_SECRET_KEY=sk_live_REPLACE_WITH_LIVE_STRIPE_SECRET
STRIPE_PUBLISHABLE_KEY=pk_live_REPLACE_WITH_LIVE_STRIPE_PUBLIC
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_WITH_LIVE_WEBHOOK_SECRET

# MercadoPago Production (create account at mercadopago.com)
MERCADOPAGO_ACCESS_TOKEN=REPLACE_WITH_PRODUCTION_MP_TOKEN
MERCADOPAGO_PUBLIC_KEY=REPLACE_WITH_PRODUCTION_MP_PUBLIC_KEY

# ============================================================================
# MONITORING & ANALYTICS
# ============================================================================
# Sentry for error tracking (create account at sentry.io)
NEXT_PUBLIC_SENTRY_DSN=https://YOUR_SENTRY_DSN@sentry.io/PROJECT_ID
SENTRY_ORG=your-org
SENTRY_PROJECT=facepay

# Mixpanel for analytics (create account at mixpanel.com)
NEXT_PUBLIC_MIXPANEL_TOKEN=REPLACE_WITH_PRODUCTION_MIXPANEL_TOKEN

# Google Analytics (optional)
NEXT_PUBLIC_GA_ID=G-REPLACE_WITH_GA_ID

# ============================================================================
# EMAIL SERVICE FOR PRODUCTION
# ============================================================================
EMAIL_FROM=noreply@facepay.app
EMAIL_PROVIDER=sendgrid

# SendGrid for transactional emails
SENDGRID_API_KEY=SG.REPLACE_WITH_SENDGRID_API_KEY

# Alternative SMTP configuration
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=SG.REPLACE_WITH_SENDGRID_API_KEY

# ============================================================================
# SECURITY & RATE LIMITING
# ============================================================================
# CORS Configuration
CORS_ORIGIN=https://facepay.app
ALLOWED_HOSTS=facepay.app,www.facepay.app

# Rate limiting (production values)
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=1000
RATE_LIMIT_AUTH_MAX=50
RATE_LIMIT_PAYMENT_MAX=100

# Security headers
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline' https://js.stripe.com https://www.googletagmanager.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https:; connect-src 'self' https://api.stripe.com https://api.mixpanel.com; frame-src https://js.stripe.com https://hooks.stripe.com; font-src 'self' https://fonts.gstatic.com

# ============================================================================
# REDIS & CACHING (Production)
# ============================================================================
# Redis for session storage and rate limiting
REDIS_URL=redis://USERNAME:PASSWORD@redis-host:6380
REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD
REDIS_TLS_ENABLED=true

# Cache settings
CACHE_ENABLED=true
CACHE_TTL=3600
SESSION_TIMEOUT=86400

# ============================================================================
# BUSINESS LOGIC & FEATURES
# ============================================================================
# Credits System
INITIAL_CREDIT_BONUS=100
REFERRAL_BONUS=50
CETES_ANNUAL_RATE=0.105
INVESTMENT_ENABLED=true
ENABLE_REFERRAL_SYSTEM=true
VIRAL_SHARING_BONUS=10

# Premium Features
PREMIUM_MONTHLY_PRICE=29
PREMIUM_FEATURES_ENABLED=true

# ============================================================================
# BLOCKCHAIN & CRYPTO (Optional)
# ============================================================================
# Ethereum mainnet
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/REPLACE_WITH_INFURA_PROJECT_ID
ETHEREUM_PRIVATE_KEY=REPLACE_WITH_ETHEREUM_PRIVATE_KEY

# Polygon mainnet
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/REPLACE_WITH_ALCHEMY_KEY

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
# Structured logging
LOG_FORMAT=json
LOG_DESTINATION=stdout

# Health check settings
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Performance monitoring
PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD=1000

# ============================================================================
# CDN & ASSET OPTIMIZATION
# ============================================================================
# CDN configuration
CDN_URL=https://cdn.facepay.app
ASSETS_URL=https://assets.facepay.app

# Image optimization
IMAGE_OPTIMIZATION=true
IMAGE_QUALITY=85
WEBP_ENABLED=true

# ============================================================================
# BACKUP & DISASTER RECOVERY
# ============================================================================
# Database backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION=30

# S3 for backups (optional)
AWS_ACCESS_KEY_ID=REPLACE_WITH_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_KEY
AWS_REGION=us-east-1
S3_BACKUP_BUCKET=facepay-backups

# ============================================================================
# WEBHOOKS & INTEGRATIONS
# ============================================================================
# Webhook security
WEBHOOK_SECRET=REPLACE_WITH_WEBHOOK_SECRET_32_CHARS

# Third-party integrations
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/REPLACE/WITH/SLACK_WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/REPLACE/WITH/DISCORD_WEBHOOK

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Production feature flags
FEATURE_BIOMETRIC_AUTH=true
FEATURE_FACE_DETECTION=true
FEATURE_WEBAUTHN=true
FEATURE_CRYPTO_PAYMENTS=false
FEATURE_ANALYTICS=true
FEATURE_A_B_TESTING=true

# ============================================================================
# DEPLOYMENT METADATA
# ============================================================================
VERSION=1.0.0
BUILD_ID=REPLACE_WITH_BUILD_ID
DEPLOY_ENVIRONMENT=production
DEPLOY_TIMESTAMP=REPLACE_WITH_DEPLOY_TIME

# ============================================================================
# INSTRUCTIONS FOR DEPLOYMENT
# ============================================================================
#
# BEFORE DEPLOYING TO PRODUCTION:
#
# 1. SECURITY AUDIT:
#    - Replace ALL placeholder values with real secrets
#    - Generate new JWT secrets: openssl rand -base64 64
#    - Generate new encryption keys: openssl rand -base64 32
#    - Never use development secrets in production!
#
# 2. DATABASE:
#    - Set up production PostgreSQL (Supabase/Railway/AWS RDS)
#    - Run migrations: npm run db:migrate
#    - Verify connection with health check
#
# 3. EXTERNAL SERVICES:
#    - Configure Stripe with live keys
#    - Set up Sentry error tracking
#    - Configure SendGrid for emails
#    - Set up monitoring tools
#
# 4. DOMAIN & SSL:
#    - Update all URLs to use your domain
#    - Ensure HTTPS is enabled everywhere
#    - Configure CDN if using one
#
# 5. TESTING:
#    - Run full test suite: npm run test:ci
#    - Test payment flows with Stripe test mode first
#    - Verify WebAuthn works on your domain
#    - Check all API endpoints respond correctly
#
# 6. MONITORING:
#    - Set up uptime monitoring
#    - Configure log aggregation
#    - Set up alerts for errors and performance
#
# 7. BACKUP:
#    - Configure automated database backups
#    - Test restore procedures
#    - Document disaster recovery process
#
# For detailed deployment instructions, see:
# - DEPLOYMENT_GUIDE.md
# - scripts/deployment-checklist.md
#
# ⚠️  SECURITY WARNING:
# Never commit this file with real secrets to version control!
# Use your deployment platform's environment variable settings.
#