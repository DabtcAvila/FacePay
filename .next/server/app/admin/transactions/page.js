(()=>{var e={};e.id=4454,e.ids=[4454],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},94880:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>l,routeModule:()=>m,tree:()=>d}),r(29126),r(79286),r(35866);var a=r(23191),s=r(88716),o=r(37922),n=r.n(o),i=r(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(t,c);let d=["",{children:["admin",{children:["transactions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,29126)),"/Users/davicho/MASTER proyectos/FacePay/src/app/admin/transactions/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,79286)),"/Users/davicho/MASTER proyectos/FacePay/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/davicho/MASTER proyectos/FacePay/src/app/admin/transactions/page.tsx"],u="/admin/transactions/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/transactions/page",pathname:"/admin/transactions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},97923:(e,t,r)=>{Promise.resolve().then(r.bind(r,47002))},69669:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},48998:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},71821:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},15919:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},54689:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},17069:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},47002:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var a=r(10326),s=r(17577),o=r(81013),n=r(58508),i=r(6174),c=r(8672),d=r(30361),l=r(48998),u=r(69669),x=r(54689),m=r(41291),g=r(15919),p=r(12714),y=r(31540),h=r(28916),b=r(71821),k=r(17069);let f=[{id:"tx_001",userId:"user_001",userName:"Juan P\xe9rez",amount:125,currency:"USD",method:"face_id",status:"completed",type:"payment",merchantId:"merchant_001",merchantName:"Coffee Shop Pro",description:"Pago en Coffee Shop Pro",createdAt:"2024-01-20T14:30:00Z",updatedAt:"2024-01-20T14:30:15Z",fees:3.75,netAmount:121.25},{id:"tx_002",userId:"user_002",userName:"Mar\xeda Garc\xeda",amount:89.5,currency:"USD",method:"card",status:"completed",type:"payment",merchantId:"merchant_002",merchantName:"SuperMarket Plus",description:"Compra en SuperMarket Plus",createdAt:"2024-01-20T09:15:00Z",updatedAt:"2024-01-20T09:15:12Z",fees:2.69,netAmount:86.81},{id:"tx_003",userId:"user_003",userName:"Carlos L\xf3pez",amount:234.75,currency:"USD",method:"face_id",status:"pending",type:"payment",merchantId:"merchant_003",merchantName:"Tech Store",description:"Compra de electr\xf3nicos",createdAt:"2024-01-20T08:45:00Z",updatedAt:"2024-01-20T08:45:00Z",fees:7.04,netAmount:227.71},{id:"tx_004",userId:"user_004",userName:"Ana Rodr\xedguez",amount:67.25,currency:"USD",method:"paypal",status:"failed",type:"payment",merchantId:"merchant_001",merchantName:"Coffee Shop Pro",description:"Intento de pago fallido",createdAt:"2024-01-19T16:20:00Z",updatedAt:"2024-01-19T16:20:30Z",fees:0,netAmount:0},{id:"tx_005",userId:"user_005",userName:"Luis Mart\xednez",amount:150,currency:"USD",method:"face_id",status:"refunded",type:"refund",merchantId:"merchant_002",merchantName:"SuperMarket Plus",description:"Reembolso de compra",createdAt:"2024-01-19T11:30:00Z",updatedAt:"2024-01-19T11:35:00Z",fees:-4.5,netAmount:145.5}],v=[{name:"00:00",value:45},{name:"04:00",value:12},{name:"08:00",value:89},{name:"12:00",value:156},{name:"16:00",value:234},{name:"20:00",value:178}],j=({status:e})=>{let{color:t,icon:r,text:s}=(()=>{switch(e){case"completed":return{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:d.Z,text:"Completado"};case"pending":return{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",icon:l.Z,text:"Pendiente"};case"failed":return{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:u.Z,text:"Fallido"};case"refunded":return{color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",icon:x.Z,text:"Reembolsado"};default:return{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",icon:m.Z,text:"Desconocido"}}})();return(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t}`,children:[a.jsx(r,{className:"w-3 h-3 mr-1"}),s]})},N=({method:e})=>{let{color:t,text:r}=(()=>{switch(e){case"face_id":return{color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",text:"Face ID"};case"card":return{color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",text:"Tarjeta"};case"paypal":return{color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",text:"PayPal"};case"crypto":return{color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",text:"Crypto"};default:return{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",text:"Desconocido"}}})();return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t}`,children:r})},Z=({type:e})=>{let{color:t,text:r}=(()=>{switch(e){case"payment":return{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",text:"Pago"};case"refund":return{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",text:"Reembolso"};case"withdrawal":return{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",text:"Retiro"};default:return{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",text:"Otro"}}})();return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t}`,children:r})},w=({transaction:e})=>{let[t,r]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[a.jsx("button",{onClick:()=>r(!t),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(g.Z,{className:"w-4 h-4"})}),t&&a.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-10",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[a.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Ver detalles"]}),(0,a.jsxs)("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[a.jsx(y.Z,{className:"w-4 h-4 mr-2"}),"Descargar recibo"]}),"completed"===e.status&&(0,a.jsxs)("button",{className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:[a.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Procesar reembolso"]})]})})]})};function _(){let[e]=(0,s.useState)(f),t=[{accessorKey:"id",header:"ID Transacci\xf3n",cell:({row:e})=>a.jsx("span",{className:"font-mono text-sm",children:e.original.id})},{accessorKey:"userName",header:"Usuario",cell:({row:e})=>(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.original.userName}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.original.merchantName||"N/A"})]})},{accessorKey:"amount",header:"Monto",cell:({row:e})=>(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",e.original.amount.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Neto: $",e.original.netAmount.toFixed(2)]})]})},{accessorKey:"method",header:"M\xe9todo",cell:({row:e})=>a.jsx(N,{method:e.original.method})},{accessorKey:"type",header:"Tipo",cell:({row:e})=>a.jsx(Z,{type:e.original.type})},{accessorKey:"status",header:"Estado",cell:({row:e})=>a.jsx(j,{status:e.original.status})},{accessorKey:"createdAt",header:"Fecha",cell:({row:e})=>{let t=new Date(e.original.createdAt);return(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.toLocaleDateString("es-ES")}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]})}},{id:"actions",header:"",cell:({row:e})=>a.jsx(w,{transaction:e.original})}],r=e.filter(e=>"completed"===e.status).length;e.filter(e=>"pending"===e.status).length;let l=e.reduce((e,t)=>e+("completed"===t.status?t.amount:0),0),u=e.reduce((e,t)=>e+("completed"===t.status?t.fees:0),0);return a.jsx(o.Z,{title:"Historial de Transacciones",description:"Monitorea y gestiona todas las transacciones del sistema",children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(i.Z,{title:"Total Transacciones",value:e.length.toString(),change:"Hoy",changeType:"neutral",icon:h.Z,iconColor:"text-blue-600"}),a.jsx(i.Z,{title:"Completadas",value:r.toString(),change:`${(r/e.length*100).toFixed(1)}% del total`,changeType:"positive",icon:d.Z,iconColor:"text-green-600"}),a.jsx(i.Z,{title:"Volumen Total",value:`$${l.toLocaleString("es-ES",{minimumFractionDigits:2})}`,change:"Hoy",changeType:"positive",icon:b.Z,iconColor:"text-yellow-600"}),a.jsx(i.Z,{title:"Comisiones",value:`$${u.toLocaleString("es-ES",{minimumFractionDigits:2})}`,change:"Hoy",changeType:"positive",icon:k.Z,iconColor:"text-purple-600"})]}),a.jsx(c.Z,{data:v,title:"Volumen de Transacciones por Hora",color:"#3B82F6",height:300}),a.jsx(n.Z,{data:e,columns:t,title:"Lista de Transacciones",onExport:()=>{console.log("Exporting transactions data...")}})]})})}},8672:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var a=r(10326);r(17577);var s=r(30660),o=r(14958),n=r(18423),i=r(62637),c=r(9997),d=r(44675),l=r(74390);function u({data:e,dataKey:t="value",xAxisKey:r="name",title:u,color:x="#3B82F6",height:m=300,showGrid:g=!0,showTooltip:p=!0}){return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[u&&a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:u}),a.jsx(s.h,{width:"100%",height:m,children:(0,a.jsxs)(o.w,{data:e,children:[g&&a.jsx(n.q,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),a.jsx(i.K,{dataKey:r,className:"text-gray-600 dark:text-gray-400"}),a.jsx(c.B,{className:"text-gray-600 dark:text-gray-400"}),p&&a.jsx(d.u,{contentStyle:{backgroundColor:"var(--tooltip-bg)",border:"1px solid var(--tooltip-border)",borderRadius:"6px",color:"var(--tooltip-color)"}}),a.jsx(l.x,{type:"monotone",dataKey:t,stroke:x,strokeWidth:2,dot:{fill:x,strokeWidth:2,r:4},activeDot:{r:6}})]})})]})}},29126:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>o,default:()=>i});var a=r(68570);let s=(0,a.createProxy)(String.raw`/Users/davicho/MASTER proyectos/FacePay/src/app/admin/transactions/page.tsx`),{__esModule:o,$$typeof:n}=s;s.default;let i=(0,a.createProxy)(String.raw`/Users/davicho/MASTER proyectos/FacePay/src/app/admin/transactions/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,1662,4536,2510,2592,698,7364],()=>r(94880));module.exports=a})();