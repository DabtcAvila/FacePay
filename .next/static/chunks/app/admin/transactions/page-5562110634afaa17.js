(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{94783:function(e,t,r){Promise.resolve().then(r.bind(r,1196))},1196:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var a=r(57437),n=r(2265),s=r(12020),o=r(97730),c=r(42765),l=r(60899),d=r(76780),i=r(92940),u=r(40933),m=r(56935),g=r(51077),x=r(37164),h=r(75733),p=r(63550),y=r(49590),b=r(53225),f=r(71935);let k=[{id:"tx_001",userId:"user_001",userName:"Juan P\xe9rez",amount:125,currency:"USD",method:"face_id",status:"completed",type:"payment",merchantId:"merchant_001",merchantName:"Coffee Shop Pro",description:"Pago en Coffee Shop Pro",createdAt:"2024-01-20T14:30:00Z",updatedAt:"2024-01-20T14:30:15Z",fees:3.75,netAmount:121.25},{id:"tx_002",userId:"user_002",userName:"Mar\xeda Garc\xeda",amount:89.5,currency:"USD",method:"card",status:"completed",type:"payment",merchantId:"merchant_002",merchantName:"SuperMarket Plus",description:"Compra en SuperMarket Plus",createdAt:"2024-01-20T09:15:00Z",updatedAt:"2024-01-20T09:15:12Z",fees:2.69,netAmount:86.81},{id:"tx_003",userId:"user_003",userName:"Carlos L\xf3pez",amount:234.75,currency:"USD",method:"face_id",status:"pending",type:"payment",merchantId:"merchant_003",merchantName:"Tech Store",description:"Compra de electr\xf3nicos",createdAt:"2024-01-20T08:45:00Z",updatedAt:"2024-01-20T08:45:00Z",fees:7.04,netAmount:227.71},{id:"tx_004",userId:"user_004",userName:"Ana Rodr\xedguez",amount:67.25,currency:"USD",method:"paypal",status:"failed",type:"payment",merchantId:"merchant_001",merchantName:"Coffee Shop Pro",description:"Intento de pago fallido",createdAt:"2024-01-19T16:20:00Z",updatedAt:"2024-01-19T16:20:30Z",fees:0,netAmount:0},{id:"tx_005",userId:"user_005",userName:"Luis Mart\xednez",amount:150,currency:"USD",method:"face_id",status:"refunded",type:"refund",merchantId:"merchant_002",merchantName:"SuperMarket Plus",description:"Reembolso de compra",createdAt:"2024-01-19T11:30:00Z",updatedAt:"2024-01-19T11:35:00Z",fees:-4.5,netAmount:145.5}],N=[{name:"00:00",value:45},{name:"04:00",value:12},{name:"08:00",value:89},{name:"12:00",value:156},{name:"16:00",value:234},{name:"20:00",value:178}],v=e=>{let{status:t}=e,{color:r,icon:n,text:s}=(()=>{switch(t){case"completed":return{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:i.Z,text:"Completado"};case"pending":return{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",icon:u.Z,text:"Pendiente"};case"failed":return{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:f.Z,text:"Fallido"};case"refunded":return{color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",icon:y.Z,text:"Reembolsado"};default:return{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",icon:d.Z,text:"Desconocido"}}})();return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r),children:[(0,a.jsx)(n,{className:"w-3 h-3 mr-1"}),s]})},j=e=>{let{method:t}=e,{color:r,text:n}=(()=>{switch(t){case"face_id":return{color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",text:"Face ID"};case"card":return{color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",text:"Tarjeta"};case"paypal":return{color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",text:"PayPal"};case"crypto":return{color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",text:"Crypto"};default:return{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",text:"Desconocido"}}})();return(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r),children:n})},w=e=>{let{type:t}=e,{color:r,text:n}=(()=>{switch(t){case"payment":return{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",text:"Pago"};case"refund":return{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",text:"Reembolso"};case"withdrawal":return{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",text:"Retiro"};default:return{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",text:"Otro"}}})();return(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r),children:n})},Z=e=>{let{transaction:t}=e,[r,s]=(0,n.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>s(!r),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})}),r&&(0,a.jsx)("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-10",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Ver detalles"]}),(0,a.jsxs)("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Descargar recibo"]}),"completed"===t.status&&(0,a.jsxs)("button",{className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Procesar reembolso"]})]})})]})};function T(){let[e]=(0,n.useState)(k),t=[{accessorKey:"id",header:"ID Transacci\xf3n",cell:e=>{let{row:t}=e;return(0,a.jsx)("span",{className:"font-mono text-sm",children:t.original.id})}},{accessorKey:"userName",header:"Usuario",cell:e=>{let{row:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:t.original.userName}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.original.merchantName||"N/A"})]})}},{accessorKey:"amount",header:"Monto",cell:e=>{let{row:t}=e;return(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",t.original.amount.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Neto: $",t.original.netAmount.toFixed(2)]})]})}},{accessorKey:"method",header:"M\xe9todo",cell:e=>{let{row:t}=e;return(0,a.jsx)(j,{method:t.original.method})}},{accessorKey:"type",header:"Tipo",cell:e=>{let{row:t}=e;return(0,a.jsx)(w,{type:t.original.type})}},{accessorKey:"status",header:"Estado",cell:e=>{let{row:t}=e;return(0,a.jsx)(v,{status:t.original.status})}},{accessorKey:"createdAt",header:"Fecha",cell:e=>{let{row:t}=e,r=new Date(t.original.createdAt);return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.toLocaleDateString("es-ES")}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]})}},{id:"actions",header:"",cell:e=>{let{row:t}=e;return(0,a.jsx)(Z,{transaction:t.original})}}],r=e.filter(e=>"completed"===e.status).length;e.filter(e=>"pending"===e.status).length;let d=e.reduce((e,t)=>e+("completed"===t.status?t.amount:0),0),u=e.reduce((e,t)=>e+("completed"===t.status?t.fees:0),0);return(0,a.jsx)(s.Z,{title:"Historial de Transacciones",description:"Monitorea y gestiona todas las transacciones del sistema",children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(c.Z,{title:"Total Transacciones",value:e.length.toString(),change:"Hoy",changeType:"neutral",icon:m.Z,variant:"users"}),(0,a.jsx)(c.Z,{title:"Completadas",value:r.toString(),change:"".concat((r/e.length*100).toFixed(1),"% del total"),changeType:"positive",icon:i.Z,variant:"success"}),(0,a.jsx)(c.Z,{title:"Volumen Total",value:"$".concat(d.toLocaleString("es-ES",{minimumFractionDigits:2})),change:"Hoy",changeType:"positive",icon:g.Z,variant:"warning"}),(0,a.jsx)(c.Z,{title:"Comisiones",value:"$".concat(u.toLocaleString("es-ES",{minimumFractionDigits:2})),change:"Hoy",changeType:"positive",icon:b.Z,variant:"transactions"})]}),(0,a.jsx)(l.Z,{data:N,title:"Volumen de Transacciones por Hora",color:"#3B82F6",height:300}),(0,a.jsx)(o.Z,{data:e,columns:t,title:"Lista de Transacciones",onExport:()=>{console.log("Exporting transactions data...")}})]})})}}},function(e){e.O(0,[216,592,478,560],function(){return e(e.s=94783)}),_N_E=e.O()}]);