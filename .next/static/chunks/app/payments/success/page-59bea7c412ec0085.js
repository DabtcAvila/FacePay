(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{42003:function(e,s,t){Promise.resolve().then(t.bind(t,26814))},26814:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var a=t(57437),n=t(2265),r=t(16463),l=t(92940),c=t(3274),i=t(71935);function o(){let[e,s]=(0,n.useState)(null),[t,o]=(0,n.useState)(!0),[m,x]=(0,n.useState)(null),d=(0,r.useSearchParams)().get("session_id");if((0,n.useEffect)(()=>{(async()=>{if(!d){x("No session ID provided"),o(!1);return}try{let e=await fetch("/api/payments/stripe/checkout?session_id=".concat(d),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("auth_token"))}});if(!e.ok)throw Error("Failed to fetch payment details");let t=await e.json();s(t.data)}catch(e){x(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}})()},[d]),t)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Processing your payment..."}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please wait while we verify your transaction."})]})});if(m||!e)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.Z,{className:"w-12 h-12 mx-auto mb-4 text-red-600"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Error"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:m||"Unable to retrieve payment details"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Return to Home"})]})});let u="paid"===e.paymentStatus,h=(e.amountTotal/100).toLocaleString("en-US",{style:"currency",currency:e.currency.toUpperCase()});return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8",children:(0,a.jsxs)("div",{className:"text-center",children:[u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Thank you for your payment. Your transaction has been processed successfully."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 mx-auto mb-4 text-yellow-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Processing"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Your payment is being processed. You will receive a confirmation email shortly."})]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,a.jsx)("span",{className:"font-semibold",children:h})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Transaction ID:"}),(0,a.jsx)("span",{className:"font-mono text-xs",children:e.transactionId})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,a.jsx)("span",{className:"font-semibold capitalize ".concat(u?"text-green-600":"text-yellow-600"),children:e.paymentStatus})]}),e.customerEmail&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,a.jsx)("span",{className:"font-semibold",children:e.customerEmail})]})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>window.location.href="/dashboard",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/",className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Return to Home"})]})]})})})}function m(){return(0,a.jsx)(n.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Loading payment details..."})]})}),children:(0,a.jsx)(o,{})})}}},function(e){e.O(0,[216,478,560],function(){return e(e.s=42003)}),_N_E=e.O()}]);