(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9547],{42003:function(e,t,s){Promise.resolve().then(s.bind(s,7706))},78030:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var a=s(2265);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),c=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:u="",children:d,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...o,width:r,height:r,stroke:s,strokeWidth:c?24*Number(n)/Number(r):n,className:l("lucide",u),...!d&&!i(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let s=(0,a.forwardRef)((s,n)=>{let{className:i,...o}=s;return(0,a.createElement)(u,{ref:n,iconNode:t,className:l("lucide-".concat(r(c(e))),"lucide-".concat(e),i),...o})});return s.displayName=c(e),s}},92940:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(78030).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},71935:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(78030).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},3274:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(78030).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},16463:function(e,t,s){"use strict";var a=s(71169);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},7706:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(57437),r=s(2265),n=s(16463),c=s(3274),l=s(71935),i=s(92940);function o(){let[e,t]=(0,r.useState)(null),[s,o]=(0,r.useState)(!0),[u,d]=(0,r.useState)(null),m=(0,n.useSearchParams)().get("session_id");if((0,r.useEffect)(()=>{(async()=>{if(!m){d("No session ID provided"),o(!1);return}try{let e=await fetch("/api/payments/stripe/checkout?session_id=".concat(m),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("auth_token"))}});if(!e.ok)throw Error("Failed to fetch payment details");let s=await e.json();t(s.data)}catch(e){d(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}})()},[m]),s)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Processing your payment..."}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please wait while we verify your transaction."})]})});if(u||!e)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.Z,{className:"w-12 h-12 mx-auto mb-4 text-red-600"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Error"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:u||"Unable to retrieve payment details"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Return to Home"})]})});let h="paid"===e.paymentStatus,x=(e.amountTotal/100).toLocaleString("en-US",{style:"currency",currency:e.currency.toUpperCase()});return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8",children:(0,a.jsxs)("div",{className:"text-center",children:[h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 mx-auto mb-4 text-green-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Thank you for your payment. Your transaction has been processed successfully."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{className:"w-16 h-16 mx-auto mb-4 text-yellow-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Processing"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Your payment is being processed. You will receive a confirmation email shortly."})]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,a.jsx)("span",{className:"font-semibold",children:x})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Transaction ID:"}),(0,a.jsx)("span",{className:"font-mono text-xs",children:e.transactionId})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,a.jsx)("span",{className:"font-semibold capitalize ".concat(h?"text-green-600":"text-yellow-600"),children:e.paymentStatus})]}),e.customerEmail&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,a.jsx)("span",{className:"font-semibold",children:e.customerEmail})]})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>window.location.href="/dashboard",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Dashboard"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/",className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Return to Home"})]})]})})})}function u(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Loading payment details..."})]})}),children:(0,a.jsx)(o,{})})}}},function(e){e.O(0,[2971,7023,1744],function(){return e(e.s=42003)}),_N_E=e.O()}]);