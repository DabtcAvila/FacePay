(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[660],{54347:function(e,s,t){Promise.resolve().then(t.bind(t,17162))},17162:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var i=t(57437),a=t(2265),r=t(48506),l=t(36127),n=t(13231),c=t(40933),d=t(61989),o=t(74453),m=t(49321),x=t(45188),u=t(92513),p=t(66706),h=t(98039),f=t(24258),g=t(36141),b=t(8400),y=t(10883),j=t(55179),v=t(50362),N=t(45900);function w(){var e,s,t,w,k;let[A,S]=(0,a.useState)(null),[D,C]=(0,a.useState)({enabled:!0,requireForPayments:!0,requireForLogin:!0,requireForSensitiveActions:!0,fallbackToPin:!0,maxFailedAttempts:3,lockoutDuration:15,promptTimeout:30}),[T,P]=(0,a.useState)([{id:"1",name:"iPhone 15 Pro - Face ID",type:"face",platform:"iOS 17.1",registeredAt:new Date("2024-01-15"),lastUsed:new Date("2024-01-20"),isActive:!0,isCurrent:!0},{id:"2",name:"MacBook Pro - Touch ID",type:"fingerprint",platform:"macOS Sonoma",registeredAt:new Date("2024-01-10"),lastUsed:new Date("2024-01-19"),isActive:!0,isCurrent:!1}]),[E,F]=(0,a.useState)([{id:"1",timestamp:new Date("2024-01-20T10:30:00"),type:"success",method:"face",device:"iPhone 15 Pro",location:"San Francisco, CA"},{id:"2",timestamp:new Date("2024-01-20T09:15:00"),type:"success",method:"fingerprint",device:"MacBook Pro",location:"San Francisco, CA"},{id:"3",timestamp:new Date("2024-01-19T18:45:00"),type:"failed",method:"face",device:"iPhone 15 Pro",location:"San Francisco, CA"},{id:"4",timestamp:new Date("2024-01-19T14:20:00"),type:"success",method:"face",device:"iPhone 15 Pro",location:"San Francisco, CA"}]),[Z,I]=(0,a.useState)(!1),[z,R]=(0,a.useState)(!1),[q,B]=(0,a.useState)(null);(0,a.useEffect)(()=>{L()},[]);let L=async()=>{try{let e=await N.G.checkBrowserCapabilities();S(e)}catch(e){console.error("Error loading biometric capabilities:",e)}},U=e=>{switch(e){case"face":return h.Z;case"fingerprint":return d.Z;default:return g.Z}},_=(e,s)=>{if(!e)return"Biometric Authentication";switch(e){case"face":return(null==s?void 0:s.includes("iOS"))?"Face ID":"Face Recognition";case"fingerprint":return(null==s?void 0:s.includes("iOS"))?"Touch ID":"Fingerprint";default:return"Biometric Authentication"}},O=(e,s)=>{C(t=>({...t,[e]:s}))},M=async()=>{I(!0);try{await new Promise(e=>setTimeout(e,1e3)),O("enabled",!D.enabled)}catch(e){console.error("Error toggling biometric:",e)}finally{I(!1)}},V=async()=>{I(!0);try{await new Promise(e=>setTimeout(e,2e3));let e=null==A?void 0:A.biometricTypes[0],s={id:Date.now().toString(),name:"".concat(null==A?void 0:A.deviceInfo.platform," Device"),type:"iris"===e||"voice"===e?"unknown":e||"unknown",platform:(null==A?void 0:A.deviceInfo.platform)||"Unknown",registeredAt:new Date,lastUsed:new Date,isActive:!0,isCurrent:!0};P(e=>[s,...e.map(e=>({...e,isCurrent:!1}))]),R(!1)}catch(e){console.error("Error adding device:",e)}finally{I(!1)}},Y=e=>{P(s=>s.filter(s=>s.id!==e))},G=(e,s)=>"success"===e?n.Z:"failed"===e?l.Z:"blocked"===e?o.Z:g.Z,H=e=>"success"===e?"text-green-600 bg-green-100":"failed"===e?"text-yellow-600 bg-yellow-100":"blocked"===e?"text-red-600 bg-red-100":"text-gray-600 bg-gray-100",J=e=>{let s=(new Date().getTime()-e.getTime())/36e5;return s<1?"Just now":s<24?"".concat(Math.floor(s),"h ago"):s<48?"Yesterday":e.toLocaleDateString()};return(0,i.jsx)(j.Z,{activeTab:"settings",children:(0,i.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Biometric Authentication"}),(0,i.jsx)("p",{className:"text-gray-600 mt-2",children:"Secure your account with Face ID, Touch ID, or fingerprint recognition"})]}),(null==A?void 0:A.isSupported)&&(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(D.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:D.enabled?"Enabled":"Disabled"}),(0,i.jsx)(v.z,{onClick:M,disabled:Z,variant:D.enabled?"destructive":"default",children:Z?(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):D.enabled?"Disable":"Enable"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,i.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,i.jsx)(r.EA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"p-4 rounded-xl ".concat((null==A?void 0:A.isSupported)&&D.enabled?"bg-green-100":"bg-gray-100"),children:(null==A?void 0:null===(e=A.biometricTypes)||void 0===e?void 0:e[0])?a.createElement(U(A.biometricTypes[0]),{className:"w-8 h-8 ".concat(A.isSupported&&D.enabled?"text-green-600":"text-gray-400")}):(0,i.jsx)(g.Z,{className:"w-8 h-8 ".concat((null==A?void 0:A.isSupported)&&D.enabled?"text-green-600":"text-gray-400")})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:(null==A?void 0:null===(s=A.biometricTypes)||void 0===s?void 0:s[0])?_(A.biometricTypes[0],A.deviceInfo.platform):"Biometric Authentication"}),(0,i.jsx)("p",{className:"text-gray-600 mt-1",children:(null==A?void 0:A.isSupported)?D.enabled?"Active and protecting your account":"Available but currently disabled":"Not supported on this device"})]}),(null==A?void 0:A.isSupported)&&D.enabled&&(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-green-600",children:[(0,i.jsx)(n.Z,{className:"w-5 h-5"}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Secure"})]})]}),(null==A?void 0:A.isSupported)&&(0,i.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-gray-600",children:"Platform"}),(0,i.jsx)("p",{className:"font-medium",children:A.deviceInfo.platform})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-gray-600",children:"Type"}),(0,i.jsx)("p",{className:"font-medium capitalize",children:A.biometricTypes.join(", ")||"Unknown"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-gray-600",children:"Verification"}),(0,i.jsx)("p",{className:"font-medium",children:A.isPlatformAuthenticatorAvailable?"Supported":"Basic"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-gray-600",children:"Status"}),(0,i.jsx)("p",{className:"font-medium",children:A.isPlatformAuthenticatorAvailable?"Available":"Limited"})]})]})})]})}),(null==A?void 0:A.isSupported)&&D.enabled&&(0,i.jsx)(r.EA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,i.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,i.jsx)(f.Z,{className:"w-5 h-5 text-blue-600"})}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Security Configuration"})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Authentication Requirements"}),(0,i.jsx)("div",{className:"space-y-4",children:[{key:"requireForLogin",title:"Require for Login",description:"Use biometric authentication to sign in"},{key:"requireForPayments",title:"Require for Payments",description:"Verify identity before processing payments"},{key:"requireForSensitiveActions",title:"Require for Sensitive Actions",description:"Protect settings changes and data access"}].map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,i.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:D[e.key],onChange:s=>O(e.key,s.target.checked),className:"sr-only peer"}),(0,i.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},e.key))})]}),(0,i.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,i.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Security Parameters"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Failed Attempts"}),(0,i.jsxs)("select",{value:D.maxFailedAttempts,onChange:e=>O("maxFailedAttempts",parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,i.jsx)("option",{value:3,children:"3 attempts"}),(0,i.jsx)("option",{value:5,children:"5 attempts"}),(0,i.jsx)("option",{value:10,children:"10 attempts"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lockout Duration"}),(0,i.jsxs)("select",{value:D.lockoutDuration,onChange:e=>O("lockoutDuration",parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,i.jsx)("option",{value:5,children:"5 minutes"}),(0,i.jsx)("option",{value:15,children:"15 minutes"}),(0,i.jsx)("option",{value:30,children:"30 minutes"}),(0,i.jsx)("option",{value:60,children:"1 hour"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prompt Timeout"}),(0,i.jsxs)("select",{value:D.promptTimeout,onChange:e=>O("promptTimeout",parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,i.jsx)("option",{value:15,children:"15 seconds"}),(0,i.jsx)("option",{value:30,children:"30 seconds"}),(0,i.jsx)("option",{value:60,children:"1 minute"})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Fallback to PIN"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Allow PIN if biometric fails"})]}),(0,i.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:D.fallbackToPin,onChange:e=>O("fallbackToPin",e.target.checked),className:"sr-only peer"}),(0,i.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]})]})}),D.enabled&&(0,i.jsx)(r.EA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg",children:(0,i.jsx)(b.Z,{className:"w-5 h-5 text-purple-600"})}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Registered Devices"})]}),(0,i.jsxs)(v.z,{onClick:()=>R(!0),size:"sm",className:"flex items-center space-x-2",children:[(0,i.jsx)(u.Z,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Add Device"})]})]}),(0,i.jsx)("div",{className:"space-y-4",children:T.map(e=>{let s=U(e.type);return(0,i.jsxs)(r.EA.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"p-3 rounded-lg ".concat(e.isActive?"bg-green-100":"bg-gray-100"),children:(0,i.jsx)(s,{className:"w-5 h-5 ".concat(e.isActive?"text-green-600":"text-gray-400")})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),e.isCurrent&&(0,i.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Current Device"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[(0,i.jsx)("span",{children:e.platform}),(0,i.jsx)("span",{children:"•"}),(0,i.jsxs)("span",{children:["Registered ",J(e.registeredAt)]}),(0,i.jsx)("span",{children:"•"}),(0,i.jsxs)("span",{children:["Last used ",J(e.lastUsed)]})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(v.z,{variant:"ghost",size:"sm",onClick:()=>B(e.id),children:(0,i.jsx)(x.Z,{className:"w-4 h-4"})}),!e.isCurrent&&(0,i.jsx)(v.z,{variant:"ghost",size:"sm",onClick:()=>Y(e.id),className:"text-red-600 hover:text-red-700",children:(0,i.jsx)(y.Z,{className:"w-4 h-4"})})]})]},e.id)})})]})})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(r.EA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"bg-orange-100 p-2 rounded-lg",children:(0,i.jsx)(c.Z,{className:"w-5 h-5 text-orange-600"})}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})]}),(0,i.jsx)(v.z,{variant:"ghost",size:"sm",children:(0,i.jsx)(p.Z,{className:"w-4 h-4"})})]}),(0,i.jsx)("div",{className:"space-y-4",children:E.slice(0,10).map(e=>{let s=G(e.type,e.method);return(0,i.jsxs)(r.EA.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,i.jsx)("div",{className:"p-2 rounded-full ".concat(H(e.type)),children:(0,i.jsx)(s,{className:"w-4 h-4"})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("p",{className:"font-medium text-gray-900 capitalize",children:[e.method," ",e.type]}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:J(e.timestamp)})]}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.device}),e.location&&(0,i.jsxs)("div",{className:"flex items-center space-x-1 mt-1",children:[(0,i.jsx)(m.Z,{className:"w-3 h-3 text-gray-400"}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:e.location})]})]})]},e.id)})}),(0,i.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,i.jsx)(v.z,{variant:"ghost",className:"w-full text-sm",children:"View Complete History"})})]})}),(0,i.jsxs)(r.EA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6",children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Security Summary"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"Success Rate (7 days)"}),(0,i.jsx)("span",{className:"font-semibold text-green-600",children:"94%"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"Active Devices"}),(0,i.jsx)("span",{className:"font-semibold text-blue-600",children:T.filter(e=>e.isActive).length})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"Last Authentication"}),(0,i.jsx)("span",{className:"font-semibold text-gray-900",children:J(null===(t=E[0])||void 0===t?void 0:t.timestamp)})]})]})]})]})]}),(0,i.jsx)(r.M_,{children:z&&(0,i.jsx)(r.EA.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>R(!1),children:(0,i.jsx)(r.EA.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",onClick:e=>e.stopPropagation(),children:(0,i.jsxs)("div",{className:"text-center space-y-4",children:[(0,i.jsx)("div",{className:"w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center",children:(null==A?void 0:null===(w=A.biometricTypes)||void 0===w?void 0:w[0])?a.createElement(U(A.biometricTypes[0]),{className:"w-8 h-8 text-blue-600"}):(0,i.jsx)(g.Z,{className:"w-8 h-8 text-blue-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Add New Device"}),(0,i.jsxs)("p",{className:"text-gray-600 text-sm",children:["Register this device for biometric authentication. You'll be prompted to use your ",(null==A?void 0:null===(k=A.biometricTypes)||void 0===k?void 0:k[0])?_(A.biometricTypes[0],A.deviceInfo.platform):"biometric authentication","."]})]}),(0,i.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,i.jsx)(v.z,{className:"w-full",onClick:V,disabled:Z,children:Z?(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Register Device"}),(0,i.jsx)(v.z,{variant:"outline",className:"w-full",onClick:()=>R(!1),disabled:Z,children:"Cancel"})]})]})})})})]})})}}},function(e){e.O(0,[216,592,478,560],function(){return e(e.s=54347)}),_N_E=e.O()}]);