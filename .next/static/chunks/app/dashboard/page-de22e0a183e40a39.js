(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{17425:function(e,t,s){Promise.resolve().then(s.bind(s,68270))},68270:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(57437),r=s(2265),l=s(48506),i=s(94207),n=s(26853),c=s(30338),o=s(56935),d=s(51077),x=s(75733),m=s(47019),h=s(36141),p=s(53225),u=s(55179),g=s(50362);function f(){let[e,t]=(0,r.useState)({totalBalance:0,monthlySpending:0,totalTransactions:0,activePaymentMethods:0}),[s,f]=(0,r.useState)([]),[j,v]=(0,r.useState)(null),[y,N]=(0,r.useState)(!0),[b,w]=(0,r.useState)(!0);(0,r.useEffect)(()=>{A()},[]);let A=async()=>{try{let e=await fetch("/api/users/profile");if(e.ok){let t=await e.json();v(t.data)}let a=await fetch("/api/transactions?limit=5");if(a.ok){let e=await a.json();f(e.data.transactions)}let r=await fetch("/api/payments/methods");if(r.ok){let e=await r.json(),a=s.filter(e=>new Date(e.createdAt).getMonth()===new Date().getMonth()).reduce((e,t)=>e+t.amount,0);t({totalBalance:2450.75,monthlySpending:a,totalTransactions:s.length||0,activePaymentMethods:e.data.length})}}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{N(!1)}},E=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),Z=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=e=>e.amount<0?n.Z:c.Z,T=e=>{switch(e){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return y?(0,a.jsx)(u.Z,{activeTab:"dashboard",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):(0,a.jsx)(u.Z,{activeTab:"dashboard",children:(0,a.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6 sm:space-y-8",children:[(0,a.jsxs)(l.EA.div,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:["Welcome back, ",(null==j?void 0:j.name)||"User","! \uD83D\uDC4B"]}),(0,a.jsx)("p",{className:"text-gray-600 mt-2 text-base sm:text-lg",children:"Here's your financial overview"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)(g.z,{className:"btn-secondary text-sm px-4 py-2",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Security Center"]}),(0,a.jsxs)(g.z,{className:"btn-primary text-sm px-4 py-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"New Payment"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[(0,a.jsx)(l.EA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card-premium p-6 hover-lift group",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Total Balance"}),(0,a.jsx)("button",{onClick:()=>w(!b),className:"text-gray-400 hover:text-gray-600 p-1 rounded transition-colors",children:b?(0,a.jsx)(m.Z,{size:14}):(0,a.jsx)(x.Z,{size:14})})]}),b?(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:E(e.totalBalance)}):(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"••••••"})]}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-4 rounded-2xl shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",children:(0,a.jsx)(d.Z,{className:"w-7 h-7 text-white"})})]})}),(0,a.jsx)(l.EA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card-premium p-6 hover-lift group",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm font-medium mb-2",children:"Monthly Spending"}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:E(e.monthlySpending)})]}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 p-4 rounded-2xl shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",children:(0,a.jsx)(p.Z,{className:"w-7 h-7 text-white"})})]})}),(0,a.jsx)(l.EA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card-premium p-6 hover-lift group",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm font-medium mb-2",children:"Transactions"}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-600 to-violet-600 bg-clip-text text-transparent",children:e.totalTransactions})]}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-purple-500 to-violet-600 p-4 rounded-2xl shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",children:(0,a.jsx)(i.Z,{className:"w-7 h-7 text-white"})})]})}),(0,a.jsx)(l.EA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card-premium p-6 hover-lift group",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm font-medium mb-2",children:"Payment Methods"}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:e.activePaymentMethods})]}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 p-4 rounded-2xl shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",children:(0,a.jsx)(o.Z,{className:"w-7 h-7 text-white"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[(0,a.jsxs)(l.EA.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"card-premium overflow-hidden hover-lift",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Transactions"}),(0,a.jsx)(g.z,{variant:"outline",size:"sm",children:(0,a.jsx)("a",{href:"/history",children:"View All"})})]})}),(0,a.jsx)("div",{className:"p-6",children:s.length>0?(0,a.jsx)("div",{className:"space-y-4",children:s.map((e,t)=>{let s=S(e);return(0,a.jsxs)(l.EA.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6+.1*t},className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-full ".concat(e.amount<0?"bg-red-100":"bg-green-100"),children:(0,a.jsx)(s,{className:"w-4 h-4 ".concat(e.amount<0?"text-red-600":"text-green-600")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.description||"Transaction"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:Z(e.createdAt.toString())})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-semibold ".concat(e.amount<0?"text-red-600":"text-green-600"),children:[e.amount<0?"-":"+",E(Math.abs(e.amount))]}),(0,a.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full ".concat(T(e.status)),children:e.status})]})]},e.id)})}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(i.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No recent transactions"})]})})]}),(0,a.jsxs)(l.EA.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"card-premium overflow-hidden hover-lift",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Frequently used features"})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsx)(l.EA.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,a.jsxs)(g.z,{className:"w-full justify-start p-4 text-left bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border-blue-200 text-blue-700 hover:text-blue-800",variant:"outline",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-semibold",children:"Add Payment Method"}),(0,a.jsx)("div",{className:"text-xs text-blue-600",children:"Link a new card or account"})]})]})}),(0,a.jsx)(l.EA.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,a.jsxs)(g.z,{className:"w-full justify-start p-4 text-left bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border-green-200 text-green-700 hover:text-green-800",variant:"outline",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-semibold",children:"Send Money"}),(0,a.jsx)("div",{className:"text-xs text-green-600",children:"Transfer funds instantly"})]})]})}),(0,a.jsx)(l.EA.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,a.jsxs)(g.z,{className:"w-full justify-start p-4 text-left bg-gradient-to-r from-purple-50 to-violet-50 hover:from-purple-100 hover:to-violet-100 border-purple-200 text-purple-700 hover:text-purple-800",variant:"outline",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-semibold",children:"View Analytics"}),(0,a.jsx)("div",{className:"text-xs text-purple-600",children:"Spending insights & trends"})]})]})}),(0,a.jsx)(l.EA.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,a.jsxs)(g.z,{className:"w-full justify-start p-4 text-left bg-gradient-to-r from-orange-50 to-red-50 hover:from-orange-100 hover:to-red-100 border-orange-200 text-orange-700 hover:text-orange-800",variant:"outline",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-semibold",children:"Export Data"}),(0,a.jsx)("div",{className:"text-xs text-orange-600",children:"Download transaction history"})]})]})})]})]})]})]})})}}},function(e){e.O(0,[216,592,478,560],function(){return e(e.s=17425)}),_N_E=e.O()}]);