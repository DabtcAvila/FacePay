(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{17425:function(e,t,a){Promise.resolve().then(a.bind(a,11789))},94207:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(78030).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},26853:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(78030).Z)("arrow-down-left",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]])},30338:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(78030).Z)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},51077:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(78030).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},47019:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(78030).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},75733:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(78030).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},53225:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(78030).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},11789:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(57437),n=a(2265),i=a(21513),r=a(26853),l=a(30338),c=a(47019),d=a(75733),o=a(51077),x=a(53225),m=a(94207),h=a(56935),u=a(31313),y=a(89733);function g(){let[e,t]=(0,n.useState)({totalBalance:0,monthlySpending:0,totalTransactions:0,activePaymentMethods:0}),[a,g]=(0,n.useState)([]),[j,p]=(0,n.useState)(null),[f,b]=(0,n.useState)(!0),[N,v]=(0,n.useState)(!0);(0,n.useEffect)(()=>{w()},[]);let w=async()=>{try{let e=await fetch("/api/users/profile");if(e.ok){let t=await e.json();p(t.data)}let s=await fetch("/api/transactions?limit=5");if(s.ok){let e=await s.json();g(e.data.transactions)}let n=await fetch("/api/payments/methods");if(n.ok){let e=await n.json(),s=a.filter(e=>new Date(e.createdAt).getMonth()===new Date().getMonth()).reduce((e,t)=>e+t.amount,0);t({totalBalance:2450.75,monthlySpending:s,totalTransactions:a.length||0,activePaymentMethods:e.data.length})}}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{b(!1)}},Z=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),k=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),M=e=>e.amount<0?r.Z:l.Z,S=e=>{switch(e){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return f?(0,s.jsx)(u.Z,{activeTab:"dashboard",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):(0,s.jsx)(u.Z,{activeTab:"dashboard",children:(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",(null==j?void 0:j.name)||"User","!"]}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Here's what's happening with your account"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Total Balance"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[N?(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:Z(e.totalBalance)}):(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"••••••"}),(0,s.jsx)("button",{onClick:()=>v(!N),className:"text-gray-400 hover:text-gray-600",children:N?(0,s.jsx)(c.Z,{size:16}):(0,s.jsx)(d.Z,{size:16})})]})]}),(0,s.jsx)("div",{className:"bg-blue-100 p-3 rounded-full",children:(0,s.jsx)(o.Z,{className:"w-6 h-6 text-blue-600"})})]})}),(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Monthly Spending"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:Z(e.monthlySpending)})]}),(0,s.jsx)("div",{className:"bg-green-100 p-3 rounded-full",children:(0,s.jsx)(x.Z,{className:"w-6 h-6 text-green-600"})})]})}),(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Transactions"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.totalTransactions})]}),(0,s.jsx)("div",{className:"bg-purple-100 p-3 rounded-full",children:(0,s.jsx)(m.Z,{className:"w-6 h-6 text-purple-600"})})]})}),(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Payment Methods"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.activePaymentMethods})]}),(0,s.jsx)("div",{className:"bg-orange-100 p-3 rounded-full",children:(0,s.jsx)(h.Z,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Transactions"}),(0,s.jsx)(y.z,{variant:"outline",size:"sm",children:(0,s.jsx)("a",{href:"/history",children:"View All"})})]})}),(0,s.jsx)("div",{className:"p-6",children:a.length>0?(0,s.jsx)("div",{className:"space-y-4",children:a.map((e,t)=>{let a=M(e);return(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6+.1*t},className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-full ".concat(e.amount<0?"bg-red-100":"bg-green-100"),children:(0,s.jsx)(a,{className:"w-4 h-4 ".concat(e.amount<0?"text-red-600":"text-green-600")})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.description||"Transaction"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:k(e.createdAt.toString())})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"font-semibold ".concat(e.amount<0?"text-red-600":"text-green-600"),children:[e.amount<0?"-":"+",Z(Math.abs(e.amount))]}),(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full ".concat(S(e.status)),children:e.status})]})]},e.id)})}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(m.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-500",children:"No recent transactions"})]})})]}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)(y.z,{className:"w-full justify-start",variant:"outline",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Add Payment Method"]}),(0,s.jsxs)(y.z,{className:"w-full justify-start",variant:"outline",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Send Money"]}),(0,s.jsxs)(y.z,{className:"w-full justify-start",variant:"outline",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"View Analytics"]}),(0,s.jsxs)(y.z,{className:"w-full justify-start",variant:"outline",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Export Transactions"]})]})]})]})]})})}}},function(e){e.O(0,[4868,2557,6368,5900,1313,2971,7023,1744],function(){return e(e.s=17425)}),_N_E=e.O()}]);