(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1235],{2866:function(e,t,s){Promise.resolve().then(s.bind(s,92365))},95137:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(78030).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},47019:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(78030).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},75733:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(78030).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},74453:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(78030).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},4086:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(78030).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},52022:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(78030).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},92365:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var r=s(57437),a=s(2265),n=s(34446),i=s(21513),l=s(95137),o=s(20500),c=s(52022),d=s(4086),u=s(74453),m=s(47019),x=s(75733),h=s(89733),f=s(882),p=s(87138);function g(){let[e,t]=(0,a.useState)("signin"),[s,g]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[k,C]=(0,a.useState)({}),E=()=>{let t={};return N.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.email)||(t.email="Please enter a valid email"):t.email="Email is required",N.password?N.password.length<8&&(t.password="Password must be at least 8 characters"):t.password="Password is required","signup"===e&&(N.firstName||(t.firstName="First name is required"),N.lastName||(t.lastName="Last name is required"),N.password!==N.confirmPassword&&(t.confirmPassword="Passwords do not match")),C(t),0===Object.keys(t).length};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)(p.default,{href:"/",className:"inline-flex items-center text-gray-600 hover:text-blue-600 mb-6 transition-colors",children:[(0,r.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(o.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"signin"===e?"Welcome Back":"signup"===e?"Create Account":"Biometric Login"}),(0,r.jsx)("p",{className:"text-gray-600",children:"signin"===e?"Sign in to your FacePay account":"signup"===e?"Join FacePay for secure payments":"Use your face to sign in securely"})]}),(0,r.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1 mb-6",children:[(0,r.jsx)("button",{onClick:()=>t("signin"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("signin"===e?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"Sign In"}),(0,r.jsx)("button",{onClick:()=>t("signup"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("signup"===e?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"Sign Up"}),(0,r.jsx)("button",{onClick:()=>t("biometric"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("biometric"===e?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"Face ID"})]}),(0,r.jsxs)(n.M,{mode:"wait",children:["biometric"===e&&(0,r.jsxs)(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"text-center space-y-6",children:[(0,r.jsx)(f.Z,{isScanning:v,onScanComplete:()=>{j(!1),console.log("Biometric authentication successful")},size:"lg"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(h.z,{onClick:()=>{j(!0)},disabled:v,className:"w-full bg-blue-600 hover:bg-blue-700",children:v?"Scanning...":"Start Face Recognition"}),(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,r.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4 inline mr-2"}),"Your biometric data is processed locally and never stored"]})})]})]},"biometric"),("signin"===e||"signup"===e)&&(0,r.jsxs)(i.E.form,{initial:{opacity:0,x:"signin"===e?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:"signin"===e?20:-20},onSubmit:e=>{e.preventDefault(),E()&&console.log("Form submitted:",N)},className:"space-y-4",children:["signup"===e&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,r.jsx)("input",{type:"text",className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(k.firstName?"border-red-500":"border-gray-300"),value:N.firstName,onChange:e=>w(t=>({...t,firstName:e.target.value})),placeholder:"John"})]}),k.firstName&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:k.firstName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,r.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(k.lastName?"border-red-500":"border-gray-300"),value:N.lastName,onChange:e=>w(t=>({...t,lastName:e.target.value})),placeholder:"Doe"}),k.lastName&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:k.lastName})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,r.jsx)("input",{type:"email",className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(k.email?"border-red-500":"border-gray-300"),value:N.email,onChange:e=>w(t=>({...t,email:e.target.value})),placeholder:"john@example.com"})]}),k.email&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:k.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,r.jsx)("input",{type:s?"text":"password",className:"w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(k.password?"border-red-500":"border-gray-300"),value:N.password,onChange:e=>w(t=>({...t,password:e.target.value})),placeholder:"Enter your password"}),(0,r.jsx)("button",{type:"button",onClick:()=>g(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?(0,r.jsx)(m.Z,{className:"w-4 h-4"}):(0,r.jsx)(x.Z,{className:"w-4 h-4"})})]}),k.password&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:k.password})]}),"signup"===e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,r.jsx)("input",{type:b?"text":"password",className:"w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(k.confirmPassword?"border-red-500":"border-gray-300"),value:N.confirmPassword,onChange:e=>w(t=>({...t,confirmPassword:e.target.value})),placeholder:"Confirm your password"}),(0,r.jsx)("button",{type:"button",onClick:()=>y(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:b?(0,r.jsx)(m.Z,{className:"w-4 h-4"}):(0,r.jsx)(x.Z,{className:"w-4 h-4"})})]}),k.confirmPassword&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:k.confirmPassword})]}),"signin"===e&&(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot your password?"})}),(0,r.jsx)(h.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-lg py-3",children:"signin"===e?"Sign In":"Create Account"}),"signup"===e&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["By creating an account, you agree to our"," ",(0,r.jsx)("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",(0,r.jsx)("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]}),(0,r.jsxs)("div",{className:"relative my-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"signin"===e?"or continue with":"or sign up with"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("button",{type:"button",className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,r.jsxs)("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>t("biometric"),className:"flex items-center justify-center px-4 py-2 border border-blue-300 rounded-lg text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Face ID"]})]})]},e)]})]})]})})}},882:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(57437),a=s(2265),n=s(21513),i=s(34446);function l(e){let{isScanning:t=!1,onScanComplete:s,size:l="md",className:o=""}=e,[c,d]=(0,a.useState)(0),[u,m]=(0,a.useState)("idle");return(0,a.useEffect)(()=>{if(t&&"idle"===u){m("detecting"),d(0);let e=setTimeout(()=>{m("scanning");let e=setInterval(()=>{d(t=>t>=100?(clearInterval(e),m("complete"),setTimeout(()=>{null==s||s(),m("idle"),d(0)},1e3),100):t+2)},50);return()=>clearInterval(e)},1500);return()=>clearTimeout(e)}},[t,u,s]),(0,r.jsxs)("div",{className:"relative flex items-center justify-center ".concat({sm:"w-24 h-24",md:"w-32 h-32",lg:"w-48 h-48"}[l]," ").concat(o),children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)(n.E.div,{className:"border-2 border-blue-500 rounded-full aspect-square",style:{width:"100%",height:"100%"},animate:{borderColor:"complete"===u?"#10B981":"scanning"===u?"#3B82F6":"detecting"===u?"#F59E0B":"#6B7280"},transition:{duration:.3},children:[(0,r.jsx)(i.M,{children:"detecting"===u&&(0,r.jsx)(r.Fragment,{children:[0,1,2].map(e=>(0,r.jsx)(n.E.div,{className:"absolute inset-0 border-2 border-yellow-400 rounded-full face-detection-ring",initial:{scale:.8,opacity:1},animate:{scale:1.4,opacity:0},exit:{scale:1.4,opacity:0},transition:{duration:1.5,delay:.5*e,repeat:"detecting"===u?1/0:0}},e))})}),"scanning"===u&&(0,r.jsx)("div",{className:"absolute inset-2 flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-full h-full transform -rotate-90",children:[(0,r.jsx)("circle",{cx:"50%",cy:"50%",r:"45%",fill:"none",stroke:"rgba(59, 130, 246, 0.2)",strokeWidth:"2"}),(0,r.jsx)(n.E.circle,{cx:"50%",cy:"50%",r:"45%",fill:"none",stroke:"#3B82F6",strokeWidth:"2",strokeDasharray:"283",initial:{strokeDashoffset:283},animate:{strokeDashoffset:283-283*c/100},transition:{duration:.1}})]})}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative w-3/5 h-3/5",children:[(0,r.jsx)(n.E.div,{className:"absolute top-1/3 left-1/4 w-2 h-2 bg-blue-500 rounded-full",animate:{backgroundColor:"complete"===u?"#10B981":"#3B82F6",scale:"scanning"===u?[1,1.2,1]:1},transition:{duration:.5,repeat:"scanning"===u?1/0:0}}),(0,r.jsx)(n.E.div,{className:"absolute top-1/3 right-1/4 w-2 h-2 bg-blue-500 rounded-full",animate:{backgroundColor:"complete"===u?"#10B981":"#3B82F6",scale:"scanning"===u?[1,1.2,1]:1},transition:{duration:.5,delay:.1,repeat:"scanning"===u?1/0:0}}),(0,r.jsx)(n.E.div,{className:"absolute bottom-1/3 left-1/2 transform -translate-x-1/2 w-4 h-2 border-b-2 border-blue-500 rounded-b-full",animate:{borderColor:"complete"===u?"#10B981":"#3B82F6"}})]})}),(0,r.jsx)(i.M,{children:"complete"===u&&(0,r.jsx)(n.E.div,{className:"absolute inset-0 flex items-center justify-center",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},children:(0,r.jsx)(n.E.svg,{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5},children:(0,r.jsx)(n.E.path,{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})})]})}),(0,r.jsx)("div",{className:"absolute -bottom-8 text-center",children:(0,r.jsxs)(n.E.p,{className:"text-sm font-medium",animate:{color:"complete"===u?"#10B981":"scanning"===u?"#3B82F6":"detecting"===u?"#F59E0B":"#6B7280"},children:["idle"===u&&"Ready to scan","detecting"===u&&"Detecting face...","scanning"===u&&"Scanning... ".concat(c,"%"),"complete"===u&&"Complete!"]})})]})}},89733:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var r=s(57437),a=s(2265),n=s(92974),i=s(13027),l=s(49354);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:s})),ref:t,...d})});c.displayName="Button"},49354:function(e,t,s){"use strict";s.d(t,{Le:function(){return i},cn:function(){return n}});var r=s(44839),a=s(96164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}function i(){return crypto.randomUUID()}},34446:function(e,t,s){"use strict";s.d(t,{M:function(){return g}});var r=s(57437),a=s(2265),n=s(5050),i=s(30458),l=s(67797),o=s(29791);class c extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:s}=e,n=(0,a.useId)(),i=(0,a.useRef)(null),l=(0,a.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,a.useContext)(o._);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:a}=l.current;if(s||!i.current||!e||!t)return;i.current.dataset.motionPopId=n;let o=document.createElement("style");return d&&(o.nonce=d),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[s]),(0,r.jsx)(c,{isPresent:s,childRef:i,sizeRef:l,children:a.cloneElement(t,{ref:i})})}let u=e=>{let{children:t,initial:s,isPresent:n,onExitComplete:o,custom:c,presenceAffectsLayout:u,mode:x}=e,h=(0,i.h)(m),f=(0,a.useId)(),p=(0,a.useCallback)(e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;o&&o()},[h,o]),g=(0,a.useMemo)(()=>({id:f,initial:s,isPresent:n,custom:c,onExitComplete:p,register:e=>(h.set(e,!1),()=>h.delete(e))}),u?[Math.random(),p]:[n,p]);return(0,a.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[n]),a.useEffect(()=>{n||h.size||!o||o()},[n]),"popLayout"===x&&(t=(0,r.jsx)(d,{isPresent:n,children:t})),(0,r.jsx)(l.O.Provider,{value:g,children:t})};function m(){return new Map}var x=s(73241);let h=e=>e.key||"";function f(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}var p=s(9033);let g=e=>{let{children:t,custom:s,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:m=!1}=e,[g,b]=(0,x.oO)(m),y=(0,a.useMemo)(()=>f(t),[t]),v=m&&!g?[]:y.map(h),j=(0,a.useRef)(!0),N=(0,a.useRef)(y),w=(0,i.h)(()=>new Map),[k,C]=(0,a.useState)(y),[E,P]=(0,a.useState)(y);(0,p.L)(()=>{j.current=!1,N.current=y;for(let e=0;e<E.length;e++){let t=h(E[e]);v.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[E,v.length,v.join("-")]);let Z=[];if(y!==k){let e=[...y];for(let t=0;t<E.length;t++){let s=E[t],r=h(s);v.includes(r)||(e.splice(t,0,s),Z.push(s))}"wait"===d&&Z.length&&(e=Z),P(f(e)),C(y);return}let{forceRender:B}=(0,a.useContext)(n.p);return(0,r.jsx)(r.Fragment,{children:E.map(e=>{let t=h(e),a=(!m||!!g)&&(y===E||v.includes(t));return(0,r.jsx)(u,{isPresent:a,initial:(!j.current||!!l)&&void 0,custom:a?void 0:s,presenceAffectsLayout:c,mode:d,onExitComplete:a?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==B||B(),P(N.current),m&&(null==b||b()),o&&o())},children:e},t)})})}}},function(e){e.O(0,[4868,2557,2465,2971,7023,1744],function(){return e(e.s=2866)}),_N_E=e.O()}]);