"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9336],{49336:function(e,r,t){t.d(r,{Pl:function(){return x},default:function(){return u},mW:function(){return g}});var s=t(57437),n=t(2265),i=t(21513),o=t(36127),a=t(66706),l=t(83852),c=t(64142),d=t(22468),h=t(6884),p=t(89733);let m=e=>{let{error:r,errorInfo:t,resetError:n,showDetails:m,toggleDetails:u,copyError:x,copied:g,isReporting:f,reportSent:b,enableReporting:v,enableDebugMode:j}=e;return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl border border-red-200 overflow-hidden max-w-2xl w-full",children:[(0,s.jsx)("div",{className:"bg-red-500 text-white px-8 py-6",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(i.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"bg-white/20 p-3 rounded-full",children:(0,s.jsx)(o.Z,{className:"w-8 h-8"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Oops! Something went wrong"}),(0,s.jsx)("p",{className:"text-red-100 mt-1",children:"An unexpected error occurred while processing your request"})]})]})}),(0,s.jsx)("div",{className:"px-8 py-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:"Error Details"}),(0,s.jsx)("p",{className:"text-red-700 text-sm font-mono",children:(null==r?void 0:r.message)||"Unknown error occurred"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsxs)(p.z,{onClick:n,className:"bg-blue-600 hover:bg-blue-700 flex items-center gap-2",children:[(0,s.jsx)(a.Z,{className:"w-4 h-4"}),"Try Again"]}),(0,s.jsxs)(p.z,{onClick:()=>window.location.href="/",variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(l.Z,{className:"w-4 h-4"}),"Go Home"]}),(0,s.jsxs)(p.z,{onClick:u,variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4"}),m?"Hide":"Show"," Details"]})]}),v&&(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[f&&(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),"Reporting error..."]}),b&&(0,s.jsxs)("p",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),"Error reported successfully. Our team has been notified."]})]}),m&&(0,s.jsxs)("div",{className:"border-t pt-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900",children:"Technical Details"}),(0,s.jsx)(p.z,{onClick:x,variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:g,children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),"Copied!"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{className:"w-4 h-4"}),"Copy Details"]})})]}),(0,s.jsx)("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-xs overflow-auto max-h-96",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-yellow-400 font-bold",children:"Error Message:"}),(0,s.jsx)("div",{className:"mt-1 pl-4 border-l-2 border-red-400",children:null==r?void 0:r.message})]}),(null==r?void 0:r.stack)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-yellow-400 font-bold",children:"Stack Trace:"}),(0,s.jsx)("div",{className:"mt-1 pl-4 border-l-2 border-blue-400 whitespace-pre-wrap",children:r.stack})]}),(null==t?void 0:t.componentStack)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-yellow-400 font-bold",children:"Component Stack:"}),(0,s.jsx)("div",{className:"mt-1 pl-4 border-l-2 border-purple-400 whitespace-pre-wrap",children:t.componentStack})]}),j&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-yellow-400 font-bold",children:"Environment:"}),(0,s.jsxs)("div",{className:"mt-1 pl-4 border-l-2 border-green-400",children:[(0,s.jsxs)("div",{children:["Timestamp: ",new Date().toISOString()]}),(0,s.jsxs)("div",{children:["URL: ",window.location.href]}),(0,s.jsxs)("div",{children:["User Agent: ",navigator.userAgent]})]})]})]})})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("h5",{className:"font-medium text-gray-700 mb-2",children:"What can you do?"}),(0,s.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,s.jsx)("li",{children:'Try refreshing the page or clicking "Try Again"'}),(0,s.jsx)("li",{children:"Check your internet connection"}),(0,s.jsx)("li",{children:"Clear your browser cache and cookies"}),(0,s.jsx)("li",{children:"If the problem persists, contact support with the error details above"})]})]})]})})]})})};class u extends n.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r}),this.props.onError&&this.props.onError(e,r),this.props.enableReporting&&this.reportError(e,r)}render(){if(this.state.hasError){let e=this.props.fallback||m;return(0,s.jsx)(e,{error:this.state.error,errorInfo:this.state.errorInfo,resetError:this.resetError,showDetails:this.state.showDetails,toggleDetails:this.toggleDetails,copyError:this.copyError,copied:this.state.copied,isReporting:this.state.isReporting,reportSent:this.state.reportSent,enableReporting:this.props.enableReporting||!1,enableDebugMode:this.props.enableDebugMode||!1})}return this.props.children}constructor(e){super(e),this.reportError=async(e,r)=>{if(!this.state.isReporting&&!this.state.reportSent){this.setState({isReporting:!0});try{let t={message:e.message,stack:e.stack,componentStack:r.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:localStorage.getItem("userId")||"anonymous"};await fetch("/api/errors/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),this.setState({reportSent:!0})}catch(e){console.error("Failed to report error:",e)}finally{this.setState({isReporting:!1})}}},this.resetError=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0,showDetails:!1,reportSent:!1,copied:!1})},this.toggleDetails=()=>{this.setState(e=>({showDetails:!e.showDetails}))},this.copyError=async()=>{let{error:e,errorInfo:r}=this.state;if(!e)return;let t="\nError: ".concat(e.message,"\n\nStack Trace:\n").concat(e.stack,"\n\nComponent Stack:\n").concat(null==r?void 0:r.componentStack,"\n\nTimestamp: ").concat(new Date().toISOString(),"\nURL: ").concat(window.location.href,"\nUser Agent: ").concat(navigator.userAgent,"\n    ").trim();try{await navigator.clipboard.writeText(t),this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),2e3)}catch(e){console.error("Failed to copy error details:",e)}},this.state={hasError:!1,showDetails:!1,isReporting:!1,reportSent:!1,copied:!1}}}class x extends Error{constructor(e,r,t){super(e),this.code=r,this.details=t,this.name="PaymentError"}}class g extends Error{constructor(e,r,t=!0){super(e),this.code=r,this.retry=t,this.name="BiometricError"}}},89733:function(e,r,t){t.d(r,{z:function(){return c}});var s=t(57437),n=t(2265),i=t(92974),o=t(13027),a=t(49354);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,r)=>{let{className:t,variant:n,size:o,asChild:c=!1,...d}=e,h=c?i.g7:"button";return(0,s.jsx)(h,{className:(0,a.cn)(l({variant:n,size:o,className:t})),ref:r,...d})});c.displayName="Button"},49354:function(e,r,t){t.d(r,{Le:function(){return o},cn:function(){return i}});var s=t(44839),n=t(96164);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,s.W)(r))}function o(){return crypto.randomUUID()}}}]);