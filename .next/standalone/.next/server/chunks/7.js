"use strict";exports.id=7,exports.ids=[7],exports.modules={60526:(e,r,t)=>{t.d(r,{FP:()=>s,T7:()=>a,co:()=>o});class i{constructor(){this.isInitialized=!1,this.config={},this.initialize()}initialize(){}track(e,r){this.isInitialized,this.config.enableDebug&&console.log("\uD83D\uDCCA [Analytics Debug]",e,r)}identify(e,r){this.isInitialized}trackUserRegistration(e,r){this.track("User Registration",{registration_method:e,...r})}trackPayment(e,r,t,i,o){this.track("Payment Attempt",{amount:e,currency:r,payment_method:t,success:i,revenue:i?e:0,...o}),i&&console.log("\uD83D\uDCCA [Analytics Charge]",e)}trackBiometricAuth(e,r,t){this.track("Biometric Authentication",{biometric_type:e,success:r,...t})}trackPageView(e,r){this.track("Page View",{page_name:e,referrer:document.referrer,...r})}trackError(e,r,t){let i="string"==typeof e?{message:e}:{message:e.message,stack:e.stack,name:e.name};this.track("Error Occurred",{...i,context:r,...t})}trackFeatureUsage(e,r,t){this.track("Feature Usage",{feature:e,action:r,...t})}trackFunnelStep(e,r,t,i){this.track("Funnel Step",{funnel_name:e,step_name:r,step_number:t,...i})}trackExperiment(e,r,t){this.track("Experiment Viewed",{experiment_name:e,variant:r,...t})}trackReferral(e,r,t){this.track("Referral",{referral_code:e,referred_by:r,...t})}trackSessionStart(){this.track("Session Started",{session_id:this.generateSessionId()})}trackSessionEnd(e){this.track("Session Ended",{duration_seconds:e})}trackEngagement(e,r,t,i){this.track("User Engagement",{action:e,target:r,value:t,...i})}trackPerformance(e,r,t="ms"){this.track("Performance Metric",{metric_name:e,value:r,unit:t})}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}flush(){this.isInitialized}reset(){this.isInitialized}}let o=new i;class n{constructor(){this.track=o.track.bind(o)}}new n;let a={REGISTRATION:"user_registration",PAYMENT:"payment_flow",REFERRAL:"referral_flow",BIOMETRIC_SETUP:"biometric_setup"},s={USER_REGISTERED:"User Registered",USER_LOGIN:"User Login",USER_LOGOUT:"User Logout",PAYMENT_INITIATED:"Payment Initiated",PAYMENT_COMPLETED:"Payment Completed",PAYMENT_FAILED:"Payment Failed",BIOMETRIC_ENROLLED:"Biometric Enrolled",BIOMETRIC_AUTH_SUCCESS:"Biometric Auth Success",BIOMETRIC_AUTH_FAILED:"Biometric Auth Failed",FEATURE_VIEWED:"Feature Viewed",FEATURE_USED:"Feature Used",ERROR_OCCURRED:"Error Occurred",API_ERROR:"API Error"}},98682:(e,r,t)=>{t.d(r,{Rc:()=>n}),t(71159);var i=t(60526);class o{constructor(){this.isInitialized=!1,this.config={},this.errorBoundaryErrors=[],this.initialize()}initialize(){let e=process.env.NEXT_PUBLIC_SENTRY_DSN;if(this.config={sentryDsn:e,enableInProduction:!0,enablePerformanceMonitoring:!0,sampleRate:.1,tracesSampleRate:.1},e&&(this.config.enableInProduction,1))try{console.log("\uD83D\uDD0D Monitoring initialized (console mode)"),this.isInitialized=!0,this.setContext()}catch(e){console.error("Failed to initialize Monitoring:",e)}else console.log("\uD83D\uDD0D Monitoring disabled - no DSN provided or not in production");this.initializePerformanceMonitoring(),this.setupGlobalErrorHandlers()}setContext(){if(this.isInitialized)try{console.log("\uD83D\uDD0D [Monitoring Context]",{browser:{name:navigator?.userAgent||"unknown",version:navigator?.appVersion||"unknown"},viewport:null})}catch(e){console.error("Error setting monitoring context:",e)}}initializePerformanceMonitoring(){}trackWebVitals(){}setupGlobalErrorHandlers(){}captureException(e,r){if(!this.isInitialized){console.error("Monitoring Error:",e,r);return}try{console.error("\uD83D\uDD0D [Monitoring Exception]",e,r),i.co.trackError(e,r?.context,r?.extra)}catch(r){console.error("Error capturing exception:",r,e)}}captureMessage(e,r="info",t){if(!this.isInitialized){console.log("Monitoring Message:",e,r,t);return}try{("error"===r||"fatal"===r?console.error:"warning"===r?console.warn:console.log)("\uD83D\uDD0D [Monitoring Message]",e,r,t)}catch(e){console.error("Error capturing message:",e)}}trackPerformanceMetric(e,r,t){if(this.isInitialized)try{console.log("\uD83D\uDD0D [Monitoring Performance]",e,r,"ms",t),i.co.trackPerformance(e,r,"ms"),this.isCriticalPerformanceIssue(e,r)&&this.captureMessage(`Performance Issue: ${e} took ${r}ms`,"warning",{extra:{...t,value:r,metric:e}})}catch(e){console.error("Error tracking performance metric:",e)}}isCriticalPerformanceIssue(e,r){let t={FCP:3e3,LCP:4e3,CLS:.25,api_request:5e3,page_load:8e3};return!!t[e]&&r>t[e]}trackApiCall(e,r,t,o,n){let a=o>=200&&o<300;this.trackPerformanceMetric("api_request",t,{endpoint:e,method:r,statusCode:o,success:a}),(!a||n)&&this.captureMessage(`API Error: ${r} ${e}`,"error",{extra:{endpoint:e,method:r,statusCode:o,duration:t,error:n?.message}}),i.co.track("API Call",{endpoint:e,method:r,duration:t,status_code:o,success:a})}setUser(e){if(this.isInitialized)try{console.log("\uD83D\uDD0D [Monitoring User]",e),i.co.identify(e.id,e)}catch(e){console.error("Error setting user:",e)}}addBreadcrumb(e,r="custom",t="info",i){if(this.isInitialized)try{console.log("\uD83D\uDD0D [Monitoring Breadcrumb]",e,r,t,i)}catch(e){console.error("Error adding breadcrumb:",e)}}startTransaction(e,r="custom"){if(!this.isInitialized)return null;try{return console.log("\uD83D\uDD0D [Monitoring Transaction]",e,r),{name:e,operation:r,startTime:Date.now()}}catch(e){return console.error("Error starting transaction:",e),null}}async checkHealth(){let e={},r="healthy";try{let t=performance.now(),i=await fetch("/api/health"),o=performance.now()-t;e.api={status:i.ok?"healthy":"unhealthy",responseTime:Math.round(o),statusCode:i.status},(!i.ok||o>2e3)&&(r="degraded")}catch(t){e.api={status:"unhealthy",error:t.message},r="unhealthy"}try{let r="health_check_test";localStorage.setItem(r,"test"),localStorage.removeItem(r),e.localStorage={status:"healthy"}}catch(t){e.localStorage={status:"unhealthy",error:t.message},"unhealthy"!==r&&(r="degraded")}return e.webAPIs={status:"healthy",geolocation:"geolocation"in navigator,camera:"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices,notifications:"Notification"in window,serviceWorker:"serviceWorker"in navigator},{status:r,checks:e}}cleanup(){try{this.performanceObserver?.disconnect(),console.log("\uD83D\uDD0D [Monitoring Cleanup]")}catch(e){console.error("Error during monitoring cleanup:",e)}}}let n=new o;class a{constructor(){this.track=n.trackPerformanceMetric.bind(n),this.trackApiCall=n.trackApiCall.bind(n),this.startTransaction=n.startTransaction.bind(n)}}new a},13538:(e,r,t)=>{t.d(r,{_B:()=>a});var i=t(53524);let o=globalThis,n=process.env.DATABASE_URL,a=o.prisma??=new i.PrismaClient({log:["error","warn"],datasources:{db:{url:n}},...!1,errorFormat:"minimal"});a.$on("query",e=>{e.duration>1e3&&console.warn(`[SLOW QUERY] ${e.duration}ms: ${e.query}`)}),a.$on("error",e=>{console.error("[PRISMA ERROR]:",e)}),process.on("beforeExit",async()=>{await a.$disconnect()}),process.on("SIGINT",async()=>{await a.$disconnect(),process.exit(0)}),process.on("SIGTERM",async()=>{await a.$disconnect(),process.exit(0)})}};