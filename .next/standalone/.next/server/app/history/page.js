(()=>{var e={};e.id=8811,e.ids=[8811],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},88146:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),s(83147),s(79286),s(7629),s(12523);var a=s(23191),r=s(88716),l=s(37922),n=s.n(l),i=s(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let d=["",{children:["history",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,83147)),"/Users/davicho/MASTER proyectos/FacePay/src/app/history/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,79286)),"/Users/davicho/MASTER proyectos/FacePay/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"/Users/davicho/MASTER proyectos/FacePay/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"/Users/davicho/MASTER proyectos/FacePay/src/app/not-found.tsx"]}],o=["/Users/davicho/MASTER proyectos/FacePay/src/app/history/page.tsx"],x="/history/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/history/page",pathname:"/history",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29339:(e,t,s)=>{Promise.resolve().then(s.bind(s,25760))},84361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("arrow-down-left",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]])},44713:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},37358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},69669:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},48998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},31540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},69561:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},25760:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(10326),r=s(17577),l=s(30058),n=s(30361),i=s(48998),c=s(69669),d=s(21405),o=s(84361),x=s(44713),m=s(69561),u=s(31540),p=s(88307),h=s(37358),y=s(88648),g=s(91664);function j(){let[e,t]=(0,r.useState)([]),[s,j]=(0,r.useState)(!0),[v,f]=(0,r.useState)(""),[b,N]=(0,r.useState)({status:"all",dateRange:"all",minAmount:"",maxAmount:"",paymentMethodType:"all"}),[w,k]=(0,r.useState)({page:1,limit:20,total:0,totalPages:0,hasNext:!1,hasPrev:!1}),[M,P]=(0,r.useState)(!1),A=(e,t)=>{N(s=>({...s,[e]:t})),k(e=>({...e,page:1}))},Z=async()=>{try{console.log("Exporting transactions...")}catch(e){console.error("Failed to export transactions:",e)}},S=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),T=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=e=>{switch(e){case"completed":return a.jsx(n.Z,{className:"w-4 h-4 text-green-600"});case"pending":return a.jsx(i.Z,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(c.Z,{className:"w-4 h-4 text-red-600"});case"refunded":return a.jsx(d.Z,{className:"w-4 h-4 text-blue-600"});default:return a.jsx(i.Z,{className:"w-4 h-4 text-gray-600"})}},C=e=>{switch(e){case"completed":return"text-green-700 bg-green-100";case"pending":return"text-yellow-700 bg-yellow-100";case"failed":return"text-red-700 bg-red-100";case"refunded":return"text-blue-700 bg-blue-100";default:return"text-gray-700 bg-gray-100"}},E=e=>e.amount<0?o.Z:x.Z;return a.jsx(y.Z,{activeTab:"history",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transaction History"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage all your transactions"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[(0,a.jsxs)(g.z,{variant:"outline",onClick:()=>P(!M),className:"flex items-center space-x-2",children:[a.jsx(m.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"})]}),(0,a.jsxs)(g.z,{variant:"outline",onClick:Z,className:"flex items-center space-x-2",children:[a.jsx(u.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search by description or transaction ID...",value:v,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]})}),M&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsxs)("select",{value:b.status,onChange:e=>A("status",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"failed",children:"Failed"}),a.jsx("option",{value:"refunded",children:"Refunded"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),(0,a.jsxs)("select",{value:b.dateRange,onChange:e=>A("dateRange",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"quarter",children:"This Quarter"}),a.jsx("option",{value:"year",children:"This Year"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Amount"}),a.jsx("input",{type:"number",placeholder:"0.00",value:b.minAmount,onChange:e=>A("minAmount",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Amount"}),a.jsx("input",{type:"number",placeholder:"0.00",value:b.maxAmount,onChange:e=>A("maxAmount",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx(g.z,{variant:"outline",onClick:()=>{N({status:"all",dateRange:"all",minAmount:"",maxAmount:"",paymentMethodType:"all"}),f(""),k(e=>({...e,page:1}))},children:"Clear All Filters"})})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((e,t)=>{let s=E(e);return(0,a.jsxs)(l.E.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full ${e.amount<0?"bg-red-100":"bg-green-100"}`,children:a.jsx(s,{className:`w-4 h-4 ${e.amount<0?"text-red-600":"text-green-600"}`})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:e.description||"Transaction"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["#",e.id.slice(0,8)]})]})]})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("p",{className:`font-semibold ${e.amount<0?"text-red-600":"text-green-600"}`,children:[e.amount<0?"-":"+",S(Math.abs(e.amount))]})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[_(e.status),a.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${C(e.status)}`,children:e.status})]})}),a.jsx("td",{className:"px-6 py-4",children:e.paymentMethod?(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-gray-900 capitalize",children:[e.paymentMethod.type," • ",e.paymentMethod.provider]}),e.paymentMethod.details&&"object"==typeof e.paymentMethod.details&&"last4"in e.paymentMethod.details&&(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["****",e.paymentMethod.details.last4]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"-"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("p",{className:"text-sm text-gray-900",children:T(e.createdAt.toString())})})]},e.id)})})]})}),w.totalPages>1&&(0,a.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(g.z,{variant:"outline",onClick:()=>k(e=>({...e,page:e.page-1})),disabled:!w.hasPrev,children:"Previous"}),a.jsx(g.z,{variant:"outline",onClick:()=>k(e=>({...e,page:e.page+1})),disabled:!w.hasNext,children:"Next"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing"," ",a.jsx("span",{className:"font-medium",children:(w.page-1)*w.limit+1})," ","to"," ",a.jsx("span",{className:"font-medium",children:Math.min(w.page*w.limit,w.total)})," ","of"," ",a.jsx("span",{className:"font-medium",children:w.total})," ","results"]})}),a.jsx("div",{children:(0,a.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[a.jsx(g.z,{variant:"outline",onClick:()=>k(e=>({...e,page:e.page-1})),disabled:!w.hasPrev,className:"rounded-l-md",children:"Previous"}),a.jsx(g.z,{variant:"outline",onClick:()=>k(e=>({...e,page:e.page+1})),disabled:!w.hasNext,className:"rounded-r-md",children:"Next"})]})})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(h.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No transactions found"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your filters or search criteria"})]})})]})})}},83147:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var a=s(68570);let r=(0,a.createProxy)(String.raw`/Users/davicho/MASTER proyectos/FacePay/src/app/history/page.tsx`),{__esModule:l,$$typeof:n}=r;r.default;let i=(0,a.createProxy)(String.raw`/Users/davicho/MASTER proyectos/FacePay/src/app/history/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,4185,7068,5832,6402,8648],()=>s(88146));module.exports=a})();